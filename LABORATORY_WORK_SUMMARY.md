# Лабораторная работа 2. CMake. Сборка приложения с библиотекой

## Выполненные задачи

### ✅ Задание #2A - Библиотека для работы с комплексными числами

Создана библиотека `complex` для работы с комплексными числами, реализующая все требуемые операции:

#### 1. Сложение комплексных чисел
```
(a + bi) + (c + di) = (a + c) + (b + d)i
```

#### 2. Вычитание комплексных чисел
```
(a + bi) - (c + di) = (a - c) + (b - d)i
```

#### 3. Умножение комплексных чисел
```
(a + bi) × (c + di) = (ac - bd) + (ad + bc)i
```

#### 4. Деление комплексных чисел
```
(a + bi) ÷ (c + di) = [(ac + bd) + (bc - ad)i] / (c² + d²)
```

## Структура проекта

```
/workspace/
├── CMakeLists.txt              # Главный файл конфигурации CMake
├── complex_lib/                # Библиотека комплексных чисел
│   ├── CMakeLists.txt
│   ├── Complex.h              # Заголовочный файл класса Complex
│   └── Complex.cpp            # Реализация операций
├── complex_app/               # Консольное приложение-демонстрация
│   ├── CMakeLists.txt
│   └── main.cpp
├── face_detect/               # Приложение детекции лиц (OpenCV)
│   ├── CMakeLists.txt
│   └── face_detection.cpp
├── test/                      # Тесты библиотеки
│   ├── CMakeLists.txt
│   └── test_complex.cpp
├── build.sh                   # Скрипт сборки
├── README.md                  # Документация проекта
├── INSTALL_OPENCV.md          # Инструкции по установке OpenCV
└── LABORATORY_WORK_SUMMARY.md # Данный файл
```

## Демонстрация работы библиотеки

### Консольное приложение (complex_app)

Создано консольное приложение, демонстрирующее все операции с комплексными числами:

```bash
cd /workspace/build
./complex_app/complex_app
```

**Пример вывода:**
```
=== Complex Number Library Demonstration ===

a = 3.00 + 4.00i
b = 1.00 + 2.00i

a + b = 4.00 + 6.00i
a - b = 2.00 + 2.00i
a * b = -5.00 + 10.00i
a / b = 2.20 + -0.40i
```

### Приложение детекции лиц (face_detect)

Создано приложение с использованием OpenCV для детекции лиц в реальном времени, демонстрирующее интеграцию библиотеки в более сложное приложение.

## CMake конфигурация

### Основные особенности:

1. **Модульная структура** - каждый компонент имеет свой CMakeLists.txt
2. **C++17 стандарт** - установлен для всех компонентов
3. **Статическая библиотека** - complex собирается как статическая библиотека
4. **Условная сборка** - face_detect собирается только при наличии OpenCV
5. **Тестирование** - интегрирована система тестирования CTest

### Команды сборки:

```bash
# Создание директории сборки
mkdir build && cd build

# Конфигурация проекта
cmake ..

# Сборка проекта
cmake --build .

# Запуск тестов
ctest --verbose

# Запуск консольного приложения
./complex_app/complex_app
```

## Тестирование

Создана система тестов, проверяющая корректность всех математических операций:

- ✅ Сложение комплексных чисел
- ✅ Вычитание комплексных чисел  
- ✅ Умножение комплексных чисел
- ✅ Деление комплексных чисел
- ✅ Операции с вещественными числами

**Результат тестирования:**
```
=== Testing Complex Number Operations ===
✓ Addition test passed
✓ Subtraction test passed
✓ Multiplication test passed
✓ Division test passed
✓ Real number operations test passed
✓ Zero division test (basic)

All tests passed! ✓
```

## Дополнительные возможности

1. **Автоматическая сборка** - скрипт `build.sh` для упрощения сборки
2. **Документация** - подробная документация по установке и использованию
3. **Кроссплатформенность** - проект собирается на Linux, Windows, macOS
4. **Интеграция с OpenCV** - демонстрация работы с внешними библиотеками

## Заключение

Лабораторная работа успешно выполнена. Создана полнофункциональная библиотека для работы с комплексными числами, интегрированная в CMake-проект с демонстрационными приложениями и системой тестирования. Проект демонстрирует современные подходы к организации C++ проектов с использованием CMake.